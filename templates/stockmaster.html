{% extends 'landingpage.html' %}

{% block body %}

{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
  {% for category, message in messages %}
    <div class="alert alert-success" role="alert">
      {{ message }}
    </div>
  {% endfor %}
{% endif %}
{% endwith %}

<div class="container-fluid">
  <div class="row g-4">
    <!-- AI Stock Assistance Welcome Card -->
    <div class="col-xl-12 col-12 mb-4">
      <div class="card" style="border-radius: 30px 30px 0 30px;">
        <div class="card-body ml-5" style="border-radius: 30px 30px 0 30px;">
          <span class="h6 font-semibold text-muted text-sm d-block mb-2">
            Welcome to your AI Stock Assistance ðŸ¤©
          </span>
          <span class="h3 font-bold mb-0">
            How can I help you today, {{ current_user.name }}?
          </span>
        </div>
      </div>
    </div>

    <hr>

    <!-- User Name Card -->

    <div class="col-xl-12 col-12 mb-4">
      {% for users in users%}
      <div class="card" style="border-radius: 30px 30px 0 30px; margin-bottom:10px;">
        <div class="card-body ml-5" style="border-radius: 30px 30px 0 30px;">
<span class="h6 font-semibold text-muted  d-block mb-1">
            {{ current_user.name }}
          </span>
          <span class="h5 font-bold mb-0 text-align-right text-right">
       {{ users.message }}
          </span>
        </div>
      </div>
      {%endfor%}
    </div>

 


  <!-- Form Section -->
  <form action="" method="post">
    <div class="row">
      <div class="col-md-12">
        <div class="card bg-light-danger" style="position: fixed; bottom: 0; width: 100%; left: 0; right: 100px;">
          {{ form.hidden_tag() }}
          <div class="card-body d-flex">
            <textarea name="message" class="form-control" placeholder="Enter your message here..."></textarea>
            {{ form.submit(class="btn btn-primary", style="width: 100px; margin-left: 10px;") }}
          </div>
        </div>
      </div>
    </div>
  </form>
</div>

<!-- Bootstrap JavaScript and Popper.js (Order is important) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Triggering the Toast -->
<script type="text/javascript">
  window.onload = function () {
    var chart = new CanvasJS.Chart("chartContainer", {
      title: {
        text: ""
      },
      data: [{
        type: "line",
        dataPoints: [
          { x: new Date(2012, 00, 1), y: 450 },
          { x: new Date(2012, 01, 1), y: 414 },
          { x: new Date(2012, 02, 1), y: 520 },
          { x: new Date(2012, 03, 1), y: 460 },
          { x: new Date(2012, 04, 1), y: 450 }
        ]
      }]
    });
    chart.render();
  }
</script>
<script type="text/javascript" src="https://cdn.canvasjs.com/canvasjs.min.js"></script>

{% endblock body %}
