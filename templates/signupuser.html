<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&callback=initMap&libraries=&v=weekly" defer></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AbiTrack | Inventory Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="static/assetss/css/news.css">
    <link rel="stylesheet" href="static/assetss/css/tailwind.css" />
</head>
<body>
    <div class="container-fluid h-100 p-0">
        <!-- Left Panel: Sign In -->
        <div class="row h-100 g-0 ">
            <div class="col-md-8 d-none d-md-block right-panel" style="background-image: url('https://firmbee.com/wp-content/uploads/jason-goodman-Oalh2MojUuk-unsplash-1-2000x1333.jpg');" lazy="loading">
            </div>

            <div class="col-md-4  p-5 justify-content-center align-items-center bg-white ">
                
                
                       
                
                <form id="businessForm" action="" method="POST">
                          <div class="logo text-center mt-2"><b>Abitrack ðŸŽ‰</b></div>
                      
                        {{ form.hidden_tag() }}
                        
                
                     
                       
                            <h2 class="text-center"><b>Letâ€™s create your account. </b></h2>
                            {% with messages = get_flashed_messages() %}
                        {% if messages %}
                          {% for message in messages %}
                            <div class="alert alert-danger mb-3" role="alert">
                              {{ message }}
                            </div>
                          {% endfor %}
                        {% endif %}
                        {% endwith %}
                          
                          
                          <label class="text-left">Category</label>
                          <div class="d-flex">
                          {{ form.category(class="input-field",  style="width:100%; background-color:#fff; padding:15px; padding:20px;  color:#000;",   required='required') }}
                          </div>
                          {% if form.category.errors %}
                              <div class="text-danger">
                                  {% for error in form.category.errors %}
                                      <small>{{ error }}</small>
                                  {% endfor %}
                              </div>
                          {% endif %}

                          
                         
                          
                          <label class="mt-2"> <b>Abitrack.com/</b></label>
                           <!--<input type="text"  class="input" name="company_name" id="businessName" style="width:100%;" placeholder="your company name" />
                          -->
                           {{ form.company_name(class="input-field",  id="businessName", style="width:100%;",  placeholder="your business name") }}
                          
                           {% if form.company_name.errors %}
                               <div class="text-danger">
                                   {% for error in form.company_name.errors %}
                                       <small>{{ error }}</small>
                                   {% endfor %}
                               </div>
                           {% endif %}
                          
                           {{ form.latitude(id='latitude') }}
                           {{ form.longitude(id='longitude') }}
                       
                           
                        
                          <label class="mt-2 ">Email</label>
                          {{ form.email(class="input-field", id="emailAddress", style="width:100%;",placeholder="name@gmail.com") }}
                          {% if form.email.errors %}
                              <div class="text-danger">
                                  {% for error in form.email.errors %}
                                      <small>{{ error }}</small>
                                  {% endfor %}
                              </div>
                          {% endif %}
                         
                         
                         
                        
                
                     
                       
                          <label class="mt-2 ">Password</label>
                          {{ form.password(class="input-field", id="inputPassword5", style="width:100%; ", placeholder="Enter your password") }}
                          {% if form.password.errors %}
                              <div class="text-danger">
                                  {% for error in form.password.errors %}
                                      <small>{{ error }}</small>
                                  {% endfor %}
                              </div>
                          {% endif %}
                       
                          <button type="button" style="width:100%; height:50px; margin-top:20px; border-radius:20px; background-color:#cbb3e7; border:none;  color:#fff; " class="login" onclick="getLocation()"> <i class="bi bi-geo-alt"></i> Pick My Location</button>
                
                          <button type="submit" class="btn btn-secondary" class="input" style="width:100%; background-color:#5a00c1; padding:10px; border:none; border-radius:20px; color:#fff; margin-top:20px;" onclick="checkValues()" >Submit</button>

                          <p class="text-center h-6">Already have an account <a href="/login">Login Account</a>.</p>

                         
                        <p>By signing in, I agree to Read's <a href="#">Terms of Service</a> and acknowledge I have read the <a href="#">Privacy Policy</a>.</p>
                      
                      </form>
                   
               
             
                    
               
           

        </div>
    </div>
    <script>
        function getLocation() {
            console.log("getLocation function called");  // Debugging: Check if this is called
            if (navigator.geolocation) {
                console.log("Geolocation supported, asking for permission...");  // Debugging
                navigator.geolocation.getCurrentPosition(showPosition, showError);
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }
    
        function showPosition(position) {
            console.log("Location detected: ", position.coords.latitude, position.coords.longitude);  // Debugging
            // Set the latitude and longitude values in the hidden form fields
            document.getElementById("latitude").value = position.coords.latitude;
            document.getElementById("longitude").value = position.coords.longitude;
            alert("Location detected! Latitude: " + position.coords.latitude + ", Longitude: " + position.coords.longitude);
        }
    
        function showError(error) {
            console.log("Error occurred in geolocation: ", error);  // Debugging
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    alert("User denied the request for Geolocation.");
                    break;
                case error.POSITION_UNAVAILABLE:
                    alert("Location information is unavailable.");
                    break;
                case error.TIMEOUT:
                    alert("The request to get user location timed out.");
                    break;
                case error.UNKNOWN_ERROR:
                    alert("An unknown error occurred.");
                    break;
            }
        }
    </script>
    
</body>
</html>
